{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\\\u05E6\\u05D1\\u05D9\\u05E7\\u05D9\\\\todo-app\\\\client\\\\src\\\\components\\\\FirebaseAuthUI.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport firebaseui from 'firebaseui/dist/npm';\nimport { auth } from '../config/firebase-config'; // אל תשכח לוודא שהנתיב נכון\nimport { GoogleAuthProvider, EmailAuthProvider, FacebookAuthProvider, onAuthStateChanged, signOut } from 'firebase/auth'; // הייבוא הנכון מ-firebase\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FirebaseAuthUI = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    // ודא שלא ניצור אינסטנציה חדשה אם כבר יש אחת\n    if (window.firebaseuiInstance) return; // אם האינסטנציה קיימת כבר, אל תיצור חדשה\n\n    const ui = new firebaseui.auth.AuthUI(auth);\n    window.firebaseuiInstance = ui; // שמירה על האינסטנציה כדי למנוע יצירה כפולה\n\n    // הגדרת אפשרויות FirebaseUI\n    const uiConfig = {\n      signInSuccessUrl: '/',\n      // הכתובת שתועבר אליה לאחר התחברות\n      signInOptions: [EmailAuthProvider.PROVIDER_ID,\n      // התחברות דרך אימייל\n      GoogleAuthProvider.PROVIDER_ID,\n      // התחברות דרך Google\n      FacebookAuthProvider.PROVIDER_ID // התחברות דרך Facebook\n      ],\n      tosUrl: 'https://www.example.com/terms',\n      // תנאי שימוש (אם יש)\n      privacyPolicyUrl: 'https://www.example.com/privacy' // מדיניות פרטיות (אם יש)\n    };\n\n    // אתחול FirebaseUI\n    ui.start('#firebaseui-auth-container', uiConfig);\n\n    // מעקב אחרי שינוי במצב המשתמש\n    const unsubscribe = onAuthStateChanged(auth, setUser);\n    return () => {\n      unsubscribe();\n      if (window.firebaseuiInstance) {\n        window.firebaseuiInstance.reset(); // נקה את ה-UI אם יוצאים מהקומפוננטה\n        delete window.firebaseuiInstance;\n      }\n    };\n  }, []);\n  const handleLogout = () => {\n    signOut(auth);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"firebaseui-auth-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this) // אלמנט שבו יופיע FirebaseUI\n    : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"\\u05E9\\u05DC\\u05D5\\u05DD, \", user.displayName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        children: \"\\u05D4\\u05EA\\u05E0\\u05EA\\u05E7\\u05D5\\u05EA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(FirebaseAuthUI, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\n_c = FirebaseAuthUI;\nexport default FirebaseAuthUI;\nvar _c;\n$RefreshReg$(_c, \"FirebaseAuthUI\");","map":{"version":3,"names":["React","useEffect","useState","firebaseui","auth","GoogleAuthProvider","EmailAuthProvider","FacebookAuthProvider","onAuthStateChanged","signOut","jsxDEV","_jsxDEV","FirebaseAuthUI","_s","user","setUser","window","firebaseuiInstance","ui","AuthUI","uiConfig","signInSuccessUrl","signInOptions","PROVIDER_ID","tosUrl","privacyPolicyUrl","start","unsubscribe","reset","handleLogout","children","id","fileName","_jsxFileName","lineNumber","columnNumber","displayName","onClick","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/צביקי/todo-app/client/src/components/FirebaseAuthUI.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport firebaseui from 'firebaseui/dist/npm';\r\nimport { auth } from '../config/firebase-config';  // אל תשכח לוודא שהנתיב נכון\r\nimport { GoogleAuthProvider, EmailAuthProvider, FacebookAuthProvider, onAuthStateChanged, signOut } from 'firebase/auth'; // הייבוא הנכון מ-firebase\r\n\r\nconst FirebaseAuthUI = () => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // ודא שלא ניצור אינסטנציה חדשה אם כבר יש אחת\r\n    if (window.firebaseuiInstance) return; // אם האינסטנציה קיימת כבר, אל תיצור חדשה\r\n\r\n    const ui = new firebaseui.auth.AuthUI(auth);\r\n    window.firebaseuiInstance = ui; // שמירה על האינסטנציה כדי למנוע יצירה כפולה\r\n\r\n    // הגדרת אפשרויות FirebaseUI\r\n    const uiConfig = {\r\n      signInSuccessUrl: '/',  // הכתובת שתועבר אליה לאחר התחברות\r\n      signInOptions: [\r\n        EmailAuthProvider.PROVIDER_ID,  // התחברות דרך אימייל\r\n        GoogleAuthProvider.PROVIDER_ID, // התחברות דרך Google\r\n        FacebookAuthProvider.PROVIDER_ID // התחברות דרך Facebook\r\n      ],\r\n      tosUrl: 'https://www.example.com/terms',  // תנאי שימוש (אם יש)\r\n      privacyPolicyUrl: 'https://www.example.com/privacy'  // מדיניות פרטיות (אם יש)\r\n    };\r\n\r\n    // אתחול FirebaseUI\r\n    ui.start('#firebaseui-auth-container', uiConfig);\r\n\r\n    // מעקב אחרי שינוי במצב המשתמש\r\n    const unsubscribe = onAuthStateChanged(auth, setUser);\r\n\r\n    return () => {\r\n      unsubscribe();\r\n      if (window.firebaseuiInstance) {\r\n        window.firebaseuiInstance.reset(); // נקה את ה-UI אם יוצאים מהקומפוננטה\r\n        delete window.firebaseuiInstance;\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    signOut(auth);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {!user ? (\r\n        <div id=\"firebaseui-auth-container\"></div>  // אלמנט שבו יופיע FirebaseUI\r\n      ) : (\r\n        <div>\r\n          <h1>שלום, {user.displayName}</h1>\r\n          <button onClick={handleLogout}>התנתקות</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FirebaseAuthUI;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,UAAU,MAAM,qBAAqB;AAC5C,SAASC,IAAI,QAAQ,2BAA2B,CAAC,CAAE;AACnD,SAASC,kBAAkB,EAAEC,iBAAiB,EAAEC,oBAAoB,EAAEC,kBAAkB,EAAEC,OAAO,QAAQ,eAAe,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE1H,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAEtCD,SAAS,CAAC,MAAM;IACd;IACA,IAAIe,MAAM,CAACC,kBAAkB,EAAE,OAAO,CAAC;;IAEvC,MAAMC,EAAE,GAAG,IAAIf,UAAU,CAACC,IAAI,CAACe,MAAM,CAACf,IAAI,CAAC;IAC3CY,MAAM,CAACC,kBAAkB,GAAGC,EAAE,CAAC,CAAC;;IAEhC;IACA,MAAME,QAAQ,GAAG;MACfC,gBAAgB,EAAE,GAAG;MAAG;MACxBC,aAAa,EAAE,CACbhB,iBAAiB,CAACiB,WAAW;MAAG;MAChClB,kBAAkB,CAACkB,WAAW;MAAE;MAChChB,oBAAoB,CAACgB,WAAW,CAAC;MAAA,CAClC;MACDC,MAAM,EAAE,+BAA+B;MAAG;MAC1CC,gBAAgB,EAAE,iCAAiC,CAAE;IACvD,CAAC;;IAED;IACAP,EAAE,CAACQ,KAAK,CAAC,4BAA4B,EAAEN,QAAQ,CAAC;;IAEhD;IACA,MAAMO,WAAW,GAAGnB,kBAAkB,CAACJ,IAAI,EAAEW,OAAO,CAAC;IAErD,OAAO,MAAM;MACXY,WAAW,CAAC,CAAC;MACb,IAAIX,MAAM,CAACC,kBAAkB,EAAE;QAC7BD,MAAM,CAACC,kBAAkB,CAACW,KAAK,CAAC,CAAC,CAAC,CAAC;QACnC,OAAOZ,MAAM,CAACC,kBAAkB;MAClC;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMY,YAAY,GAAGA,CAAA,KAAM;IACzBpB,OAAO,CAACL,IAAI,CAAC;EACf,CAAC;EAED,oBACEO,OAAA;IAAAmB,QAAA,EACG,CAAChB,IAAI,gBACJH,OAAA;MAAKoB,EAAE,EAAC;IAA2B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,CAAE;IAAA,eAE5CxB,OAAA;MAAAmB,QAAA,gBACEnB,OAAA;QAAAmB,QAAA,GAAI,4BAAM,EAAChB,IAAI,CAACsB,WAAW;MAAA;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACjCxB,OAAA;QAAQ0B,OAAO,EAAER,YAAa;QAAAC,QAAA,EAAC;MAAO;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5C;EACN;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACtB,EAAA,CArDID,cAAc;AAAA0B,EAAA,GAAd1B,cAAc;AAuDpB,eAAeA,cAAc;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}